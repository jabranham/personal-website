<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-10-20 Fri 14:20 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Basic R</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="J. Alexander Branham" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Basic R</h1>
<div id="outline-container-org3a23739" class="outline-2">
<h2 id="org3a23739"><span class="section-number-2">1</span> Intro to R</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgbd36126" class="outline-3">
<h3 id="orgbd36126"><span class="section-number-3">1.1</span> Welcome</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><a href="https://jabranham.com/learn-r">https://jabranham.com/learn-r</a></li>
<li>pdf available</li>
<li>html too for easy copy/paste</li>
</ul>
</div>
</div>
<div id="outline-container-org057565a" class="outline-3">
<h3 id="org057565a"><span class="section-number-3">1.2</span> What is R</h3>
<div class="outline-text-3" id="text-1-2">
<blockquote>
<p>
R is "GNU S", a freely available language and environment for statistical computing and graphics which provides a wide variety of statistical and graphical techniques: linear and nonlinear modelling, statistical tests, time series analysis, classification, clustering, etc
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org8fd35d9" class="outline-3">
<h3 id="org8fd35d9"><span class="section-number-3">1.3</span> Why use R?</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Free &amp; open source</li>
<li>Available on nearly every platform</li>
<li>Extensible (CRAN)
<ul class="org-ul">
<li>We'll be using base R in this workshop</li>
</ul></li>
<li>Documentation &amp; community</li>
<li>Graphics</li>
<li>Nerd cred</li>
</ul>
</div>
</div>
<div id="outline-container-org9d6b3cc" class="outline-3">
<h3 id="org9d6b3cc"><span class="section-number-3">1.4</span> How to use R?</h3>
<div class="outline-text-3" id="text-1-4">
<p>
<b>if</b> you have installed Rstudio, <b>then</b> open it <b>else</b> open R
</p>
</div>
</div>
<div id="outline-container-orgb92f380" class="outline-3">
<h3 id="orgb92f380"><span class="section-number-3">1.5</span> Rstudio</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>File &gt; open new R script</li>
<li>Top left: editor</li>
<li>Bottom left: R console</li>
<li><b>Tip</b>: nearly all your commands should be typed in an R script, then sent to the console for evaluation
<ul class="org-ul">
<li>exceptions: <code>install.packages()</code>, help queries</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4eb46a1" class="outline-2">
<h2 id="org4eb46a1"><span class="section-number-2">2</span> Data Types</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org69bdc27" class="outline-3">
<h3 id="org69bdc27"><span class="section-number-3">2.1</span> types of data</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>What are basic data types?</li>
<li>logical, numeric, character
<ul class="org-ul">
<li>also complex and raw, but we'll ignore those</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgaab90f8" class="outline-3">
<h3 id="orgaab90f8"><span class="section-number-3">2.2</span> logical</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Statement of truth-y-ness</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">c(<span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>)
</pre>
</div>

<pre class="example">
[1]  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE

</pre>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #a45bad;">3</span> != <span style="color: #a45bad;">4</span>
</pre>
</div>

<pre class="example">
[1] TRUE

</pre>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #2d9574;">"Democat"</span> <span style="color: #a45bad;">%in%</span> c(<span style="color: #2d9574;">"Democrat"</span>, <span style="color: #2d9574;">"Independent"</span>, <span style="color: #2d9574;">"Republican"</span>)
</pre>
</div>

<pre class="example">
[1] FALSE

</pre>
</div>
</div>

<div id="outline-container-org9158a27" class="outline-3">
<h3 id="org9158a27"><span class="section-number-3">2.3</span> logical statements pop quiz</h3>
<div class="outline-text-3" id="text-2-3">
<pre class="example">
## Statements of truthyness
7 == 2 
3 != 7 
7 &gt;= 2 
2 &gt;= 7 
## And/or
2 == 2 &amp; 2 &gt; 3 
2 == 2 | 2 &gt; 3 
</pre>
</div>
</div>
<div id="outline-container-org4964344" class="outline-3">
<h3 id="org4964344"><span class="section-number-3">2.4</span> logical statements, answers</h3>
<div class="outline-text-3" id="text-2-4">
<pre class="example">
## Statements of truthyness
7 == 2 # FALSE
3 != 7 # TRUE
7 &gt;= 2 # TRUE
2 &gt;= 7 # FALSE
## And/or
2 == 2 &amp; 2 &gt; 3 # FALSE
2 == 2 | 2 &gt; 3 # TRUE
</pre>
</div>
</div>

<div id="outline-container-org11e8af5" class="outline-3">
<h3 id="org11e8af5"><span class="section-number-3">2.5</span> numeric</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>numeric is umbrella term for "double" and "integers"</li>
<li>stores numbers:</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">(x <span style="color: #a45bad;">&lt;-</span> c(<span style="color: #a45bad;">1</span>, exp(<span style="color: #a45bad;">1</span>), pi, <span style="color: #a45bad;">10384.287459</span>))
</pre>
</div>

<pre class="example">
[1]     1.000000     2.718282     3.141593 10384.287459

</pre>

<div class="org-src-container">
<pre class="src src-R">is.numeric(x)
</pre>
</div>

<pre class="example">
[1] TRUE

</pre>
</div>
</div>

<div id="outline-container-orgeb34258" class="outline-3">
<h3 id="orgeb34258"><span class="section-number-3">2.6</span> character</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>character type represents letters/words:</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">(myname <span style="color: #a45bad;">&lt;-</span> c(<span style="color: #2d9574;">"My name is Alex"</span>))
</pre>
</div>

<pre class="example">
[1] "My name is Alex"

</pre>

<div class="org-src-container">
<pre class="src src-R">(myname2 <span style="color: #a45bad;">&lt;-</span> c(<span style="color: #2d9574;">"My"</span>, <span style="color: #2d9574;">"name"</span>, <span style="color: #2d9574;">"is"</span>, <span style="color: #2d9574;">"Alex"</span>))
</pre>
</div>

<pre class="example">
[1] "My"   "name" "is"   "Alex"

</pre>

<div class="org-src-container">
<pre class="src src-R">length(myname)
</pre>
</div>

<pre class="example">
[1] 1

</pre>

<div class="org-src-container">
<pre class="src src-R">length(myname2)
</pre>
</div>

<pre class="example">
[1] 4

</pre>
</div>
</div>

<div id="outline-container-org9378f95" class="outline-3">
<h3 id="org9378f95"><span class="section-number-3">2.7</span> coercion</h3>
<div class="outline-text-3" id="text-2-7">
<ul class="org-ul">
<li>vectors can have only one data type:</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">(x <span style="color: #a45bad;">&lt;-</span> c(<span style="color: #2d9574;">"My name"</span>, <span style="color: #a45bad;">3</span> == <span style="color: #a45bad;">4</span>, <span style="color: #a45bad;">7.27</span>))
</pre>
</div>

<pre class="example">
[1] "My name" "FALSE"   "7.27"

</pre>

<div class="org-src-container">
<pre class="src src-R">class(x)
</pre>
</div>

<pre class="example">
[1] "character"

</pre>
</div>
</div>

<div id="outline-container-org39acc46" class="outline-3">
<h3 id="org39acc46"><span class="section-number-3">2.8</span> coercion, continued</h3>
<div class="outline-text-3" id="text-2-8">
<ul class="org-ul">
<li>anything can be coerced to a character</li>
<li>logicals can be coerced to numeric 
<ul class="org-ul">
<li>TRUE is 1, FALSE is 0</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org238b069" class="outline-3">
<h3 id="org238b069"><span class="section-number-3">2.9</span> atomic vectors</h3>
<div class="outline-text-3" id="text-2-9">
<ul class="org-ul">
<li>all the above are called <b>atomic vectors</b></li>
<li>useful to remember this when R yells at you</li>
</ul>
</div>
</div>
<div id="outline-container-orge117a0b" class="outline-3">
<h3 id="orge117a0b"><span class="section-number-3">2.10</span> lists</h3>
<div class="outline-text-3" id="text-2-10">
<ul class="org-ul">
<li>sometimes we need to store more than one type of data</li>
<li>we can do this with a list</li>
</ul>
</div>
</div>
<div id="outline-container-org682a92a" class="outline-3">
<h3 id="org682a92a"><span class="section-number-3">2.11</span> lists, continuted</h3>
<div class="outline-text-3" id="text-2-11">
<div class="org-src-container">
<pre class="src src-R">list(c(<span style="color: #a45bad;">1.82</span>, <span style="color: #a45bad;">1940</span>, <span style="color: #a45bad;">93.20</span>, <span style="color: #a45bad;">192.917</span>), 
     c(<span style="color: #2d9574;">"Beyonce"</span>, <span style="color: #2d9574;">"Lady Gaga"</span>, <span style="color: #2d9574;">"Pink"</span>),
     c(<span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>))
</pre>
</div>

<pre class="example">
[[1]]
[1]    1.820 1940.000   93.200  192.917

[[2]]
[1] "Beyonce"   "Lady Gaga" "Pink"     

[[3]]
[1]  TRUE FALSE  TRUE  TRUE FALSE  TRUE FALSE FALSE

</pre>
</div>
</div>

<div id="outline-container-org2d7eb1c" class="outline-3">
<h3 id="org2d7eb1c"><span class="section-number-3">2.12</span> names</h3>
<div class="outline-text-3" id="text-2-12">
<ul class="org-ul">
<li>we can name elements of vectors:</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">list(n = <span style="color: #a45bad;">10</span>,
     dv = c(<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">3</span>, <span style="color: #a45bad;">5</span>, <span style="color: #a45bad;">7</span>, <span style="color: #a45bad;">9</span>, <span style="color: #a45bad;">19</span>, <span style="color: #a45bad;">92</span>, <span style="color: #a45bad;">4</span>, <span style="color: #a45bad;">10</span>, <span style="color: #a45bad;">4</span>))
</pre>
</div>

<pre class="example">
$n
[1] 10

$dv
 [1]  1  3  5  7  9 19 92  4 10  4

</pre>
</div>
</div>

<div id="outline-container-orgc7de3cd" class="outline-3">
<h3 id="orgc7de3cd"><span class="section-number-3">2.13</span> dimensions</h3>
<div class="outline-text-3" id="text-2-13">
<ul class="org-ul">
<li>all the vectors we've worked with so far have been single-dimension</li>
<li>but we often work with two dimensional data 
<ul class="org-ul">
<li>rows are observations</li>
<li>columns are variables</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org0a5f551" class="outline-3">
<h3 id="org0a5f551"><span class="section-number-3">2.14</span> matrix</h3>
<div class="outline-text-3" id="text-2-14">
<div class="org-src-container">
<pre class="src src-R">matrix(c(<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">2</span>, <span style="color: #a45bad;">3</span>, <span style="color: #a45bad;">4</span>, <span style="color: #a45bad;">5</span>, <span style="color: #a45bad;">6</span>), nrow = <span style="color: #a45bad;">2</span>)
</pre>
</div>

<pre class="example">
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

</pre>
</div>
</div>

<div id="outline-container-org5541cbc" class="outline-3">
<h3 id="org5541cbc"><span class="section-number-3">2.15</span> data.frame</h3>
<div class="outline-text-3" id="text-2-15">
<ul class="org-ul">
<li>matrix where columns can be different types:</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">data.frame(x = <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">3</span>,
           y = c(<span style="color: #2d9574;">"a"</span>, <span style="color: #2d9574;">"b"</span>, <span style="color: #2d9574;">"c"</span>), 
           z = c(<span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>))
</pre>
</div>

<pre class="example">
  x y     z
1 1 a  TRUE
2 2 b FALSE
3 3 c  TRUE

</pre>
</div>
</div>

<div id="outline-container-org19d7ae9" class="outline-3">
<h3 id="org19d7ae9"><span class="section-number-3">2.16</span> data structures</h3>
<div class="outline-text-3" id="text-2-16">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">&#xa0;</th>
<th scope="col" class="org-left">homogeneous</th>
<th scope="col" class="org-left">heterogeneous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1d</td>
<td class="org-left">atomic vector</td>
<td class="org-left">list</td>
</tr>

<tr>
<td class="org-right">2d</td>
<td class="org-left">matrix</td>
<td class="org-left">data.frame</td>
</tr>

<tr>
<td class="org-right">nd</td>
<td class="org-left">array</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org4909f52" class="outline-2">
<h2 id="org4909f52"><span class="section-number-2">3</span> Subsetting</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org34ab73b" class="outline-3">
<h3 id="org34ab73b"><span class="section-number-3">3.1</span> Subsetting</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>oftentimes, we are interested in subsetting</li>
<li>how to refer to a specific column or row?</li>
</ul>
</div>
</div>
<div id="outline-container-org4e21315" class="outline-3">
<h3 id="org4e21315"><span class="section-number-3">3.2</span> [</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>the <code>[</code> function is how we subset</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">10</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3b8d605" class="outline-3">
<h3 id="org3b8d605"><span class="section-number-3">3.3</span> [ for positive numbers</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-R">x[c(<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">7</span>)]
</pre>
</div>

<pre class="example">
[1] 1 7

</pre>
</div>
</div>

<div id="outline-container-org163e593" class="outline-3">
<h3 id="org163e593"><span class="section-number-3">3.4</span> [ for negative numbers</h3>
<div class="outline-text-3" id="text-3-4">
<div class="org-src-container">
<pre class="src src-R">x[-c(<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">7</span>)]
</pre>
</div>

<pre class="example">
[1]  2  3  4  5  6  8  9 10

</pre>
</div>
</div>

<div id="outline-container-org445ef9a" class="outline-3">
<h3 id="org445ef9a"><span class="section-number-3">3.5</span> [ for logical statements</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">
<pre class="src src-R">x[x &gt; <span style="color: #a45bad;">3</span>]
</pre>
</div>

<pre class="example">
[1]  4  5  6  7  8  9 10

</pre>
</div>
</div>

<div id="outline-container-org53500c1" class="outline-3">
<h3 id="org53500c1"><span class="section-number-3">3.6</span> [ for 2d data</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-R">(dat <span style="color: #a45bad;">&lt;-</span> data.frame(x = <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">3</span>,
                  y =  c(<span style="color: #2d9574;">"a"</span>, <span style="color: #2d9574;">"b"</span>, <span style="color: #2d9574;">"c"</span>),
                  z = c(<span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>)))
</pre>
</div>

<pre class="example">
  x y     z
1 1 a  TRUE
2 2 b FALSE
3 3 c  TRUE

</pre>
</div>
</div>

<div id="outline-container-org2768a63" class="outline-3">
<h3 id="org2768a63"><span class="section-number-3">3.7</span> [ for specific elements</h3>
<div class="outline-text-3" id="text-3-7">
<div class="org-src-container">
<pre class="src src-R">dat[<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">3</span>]
</pre>
</div>

<pre class="example">
[1] TRUE

</pre>
</div>
</div>

<div id="outline-container-org5b57cca" class="outline-3">
<h3 id="org5b57cca"><span class="section-number-3">3.8</span> [ for whole rows/columns</h3>
<div class="outline-text-3" id="text-3-8">
<div class="org-src-container">
<pre class="src src-R">dat[, <span style="color: #a45bad;">1</span>]
</pre>
</div>

<pre class="example">
[1] 1 2 3

</pre>

<div class="org-src-container">
<pre class="src src-R">dat[<span style="color: #a45bad;">3</span>, ]
</pre>
</div>

<pre class="example">
  x y    z
3 3 c TRUE

</pre>
</div>
</div>

<div id="outline-container-org7dd3298" class="outline-3">
<h3 id="org7dd3298"><span class="section-number-3">3.9</span> [</h3>
<div class="outline-text-3" id="text-3-9">
<p>
When you have a list, <code>[</code> always returns a list:
</p>
<div class="org-src-container">
<pre class="src src-R">mylist <span style="color: #a45bad;">&lt;-</span> list(x = <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">10</span>, y = pi, z = c(<span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>))
mylist[<span style="color: #a45bad;">2</span>]
</pre>
</div>

<pre class="example">
$y
[1] 3.141593

</pre>
</div>
</div>

<div id="outline-container-org42bb640" class="outline-3">
<h3 id="org42bb640"><span class="section-number-3">3.10</span> [[ for elements of lists</h3>
<div class="outline-text-3" id="text-3-10">
<p>
<code>[[</code> will return the actual element:
</p>
<div class="org-src-container">
<pre class="src src-R">mylist[[<span style="color: #a45bad;">2</span>]]
</pre>
</div>

<pre class="example">
[1] 3.141593

</pre>
</div>
</div>

<div id="outline-container-org4cbcc8c" class="outline-3">
<h3 id="org4cbcc8c"><span class="section-number-3">3.11</span> Subsetting by name</h3>
<div class="outline-text-3" id="text-3-11">
<ul class="org-ul">
<li>we can subset by name so we don't have to remember/figure out positions</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">dat[, c(<span style="color: #2d9574;">"x"</span>, <span style="color: #2d9574;">"y"</span>)]
</pre>
</div>

<pre class="example">
  x y
1 1 a
2 2 b
3 3 c

</pre>
</div>
</div>

<div id="outline-container-orgaef8c55" class="outline-3">
<h3 id="orgaef8c55"><span class="section-number-3">3.12</span> Subsetting by name - $</h3>
<div class="outline-text-3" id="text-3-12">
<p>
This is common so <code>$</code> provides a quicker way:
</p>
<div class="org-src-container">
<pre class="src src-R">dat[[<span style="color: #2d9574;">"x"</span>]]
</pre>
</div>

<pre class="example">
[1] 1 2 3

</pre>

<div class="org-src-container">
<pre class="src src-R">dat$x
</pre>
</div>

<pre class="example">
[1] 1 2 3

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e8f1d2" class="outline-2">
<h2 id="org5e8f1d2"><span class="section-number-2">4</span> Distributions</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org3dc0802" class="outline-3">
<h3 id="org3dc0802"><span class="section-number-3">4.1</span> Distributions in R</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<ol class="org-ol">
<li><a id="orgc91aedb"></a>:BMCOL:<br />
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li>R has functions dealing with probability distributions built in</li>
<li>They share common prefixes depending on what you want:</li>
</ul>
</div>
</li>
<li><a id="org0d29cb9"></a>:BMCOL:<br />
<div class="outline-text-4" id="text-4-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">What you want</th>
<th scope="col" class="org-left">prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">cdf</td>
<td class="org-left">p</td>
</tr>

<tr>
<td class="org-left">quantile (inverse cdf)</td>
<td class="org-left">q</td>
</tr>

<tr>
<td class="org-left">random draw</td>
<td class="org-left">r</td>
</tr>

<tr>
<td class="org-left">density</td>
<td class="org-left">d</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<div id="outline-container-org47dab12" class="outline-3">
<h3 id="org47dab12"><span class="section-number-3">4.2</span> Common distributions</h3>
<div class="outline-text-3" id="text-4-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">R's name</th>
<th scope="col" class="org-left">name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">norm</td>
<td class="org-left">normal</td>
</tr>

<tr>
<td class="org-left">unif</td>
<td class="org-left">uniform</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">t</td>
</tr>

<tr>
<td class="org-left">binom</td>
<td class="org-left">binomial</td>
</tr>

<tr>
<td class="org-left">weibull</td>
<td class="org-left">weibull</td>
</tr>

<tr>
<td class="org-left">beta</td>
<td class="org-left">beta</td>
</tr>

<tr>
<td class="org-left">hyper</td>
<td class="org-left">hypergeometric</td>
</tr>

<tr>
<td class="org-left">nbinom</td>
<td class="org-left">negative binomial</td>
</tr>

<tr>
<td class="org-left">gamma</td>
<td class="org-left">gamma</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org6e177ed" class="outline-2">
<h2 id="org6e177ed"><span class="section-number-2">5</span> Conditionals</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org413b752" class="outline-3">
<h3 id="org413b752"><span class="section-number-3">5.1</span> conditionals</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>conditional statements:</li>
<li><b>If</b> (this one thing [condition]), <b>then</b> (do this other thing), <b>else</b> (do this different other thing)</li>
<li>In R, need to consider whether (condition) is of length 1 or &gt; 1</li>
<li>Let's start when (condition) is length one</li>
</ul>
</div>
</div>
<div id="outline-container-org8770ec4" class="outline-3">
<h3 id="org8770ec4"><span class="section-number-3">5.2</span> if, then, else</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">3</span>
<span style="color: #4f97d7; font-weight: bold;">if</span> (x == <span style="color: #a45bad;">7</span>) {
  print(<span style="color: #2d9574;">"x is 7"</span>)
} <span style="color: #4f97d7; font-weight: bold;">else</span> {
  print(<span style="color: #2d9574;">"x is not 7"</span>)
}
</pre>
</div>

<pre class="example">
[1] "x is not 7"

</pre>
</div>
</div>

<div id="outline-container-orge7666f1" class="outline-3">
<h3 id="orge7666f1"><span class="section-number-3">5.3</span> if, then, else with logicals</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #ce537a; font-weight: bold;">TRUE</span>
<span style="color: #4f97d7; font-weight: bold;">if</span> (x) {
  print(<span style="color: #2d9574;">"That's true"</span>)
} <span style="color: #4f97d7; font-weight: bold;">else</span> {
  print(<span style="color: #2d9574;">"That's false"</span>)
}
</pre>
</div>

<pre class="example">
[1] "That's true"

</pre>
</div>
</div>

<div id="outline-container-org79d4cf7" class="outline-3">
<h3 id="org79d4cf7"><span class="section-number-3">5.4</span> conditions with length &gt; 1</h3>
<div class="outline-text-3" id="text-5-4">
<ul class="org-ul">
<li>remember: if, else only works if condition is of length one</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">10</span>
<span style="color: #4f97d7; font-weight: bold;">if</span> (x &gt; <span style="color: #a45bad;">5</span>){
  <span style="color: #ce537a; font-weight: bold;">TRUE</span>
} <span style="color: #4f97d7; font-weight: bold;">else</span> {
  <span style="color: #ce537a; font-weight: bold;">FALSE</span>
}
</pre>
</div>

<pre class="example">
[1] FALSE
Warning message:
In if (x &gt; 5) { :
  the condition has length &gt; 1 and only the first element will be used

</pre>
</div>
</div>

<div id="outline-container-orgc121254" class="outline-3">
<h3 id="orgc121254"><span class="section-number-3">5.5</span> ifelse, continuted</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">1</span>:<span style="color: #a45bad;">10</span>
ifelse(x &gt; <span style="color: #a45bad;">5</span>, <span style="color: #ce537a; font-weight: bold;">TRUE</span>, <span style="color: #ce537a; font-weight: bold;">FALSE</span>)
</pre>
</div>

<pre class="example">
[1] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE

</pre>
</div>
</div>
</div>

<div id="outline-container-org05d5021" class="outline-2">
<h2 id="org05d5021"><span class="section-number-2">6</span> Writing Functions</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org0c31f25" class="outline-3">
<h3 id="org0c31f25"><span class="section-number-3">6.1</span> functions</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>You can write a function in R quite easily</li>
<li>Let's say we want to write a function to find the mean</li>
</ul>
</div>
</div>
<div id="outline-container-org44a3fd8" class="outline-3">
<h3 id="org44a3fd8"><span class="section-number-3">6.2</span> custom mean function</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #bc6ec5; font-weight: bold;">my_mean</span> <span style="color: #a45bad;">&lt;-</span> <span style="color: #4f97d7; font-weight: bold;">function</span>(x){
  sum(x) / length(x)
}
my_mean(<span style="color: #a45bad;">0</span>:<span style="color: #a45bad;">10</span>)
</pre>
</div>

<pre class="example">
[1] 5

</pre>
</div>
</div>

<div id="outline-container-orgd02a959" class="outline-3">
<h3 id="orgd02a959"><span class="section-number-3">6.3</span> missing values in custom mean function</h3>
<div class="outline-text-3" id="text-6-3">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #bc6ec5; font-weight: bold;">my_mean</span> <span style="color: #a45bad;">&lt;-</span> <span style="color: #4f97d7; font-weight: bold;">function</span>(x, na.rm = <span style="color: #ce537a; font-weight: bold;">FALSE</span>){
  <span style="color: #4f97d7; font-weight: bold;">if</span> (na.rm) {
    x <span style="color: #a45bad;">&lt;-</span> x[!is.na(x)]
  } 
  sum(x) / length(x)
}
x <span style="color: #a45bad;">&lt;-</span> c(<span style="color: #a45bad;">1</span>, <span style="color: #ce537a; font-weight: bold;">NA</span>, <span style="color: #a45bad;">3</span>)
my_mean(x, na.rm = <span style="color: #ce537a; font-weight: bold;">TRUE</span>)
</pre>
</div>

<pre class="example">
[1] 2

</pre>
</div>
</div>
</div>

<div id="outline-container-org3e90315" class="outline-2">
<h2 id="org3e90315"><span class="section-number-2">7</span> Using Loops</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org9b16a76" class="outline-3">
<h3 id="org9b16a76"><span class="section-number-3">7.1</span> loops</h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li>computers are much better than humans at doing repetitive tasks quickly &amp; without error</li>
</ul>
<ul class="org-ul">
<li>loops are a common way of doing something similar multiple times</li>
<li>we'll talk about <b>for</b>, which loops a prescribed number of times</li>
</ul>
<ul class="org-ul">
<li>R has <b>while</b> and <b>repeat</b> loops as well, which loop until a logical check fails (returns <code>FALSE</code>)</li>
</ul>
</div>
</div>
<div id="outline-container-org30211f8" class="outline-3">
<h3 id="org30211f8"><span class="section-number-3">7.2</span> for</h3>
<div class="outline-text-3" id="text-7-2">
<p>
pseudo-code structure of <code>for</code>:
</p>
<pre class="example">
output &lt;- vector("numeric", length = 72) ## pre-allocate output!
for (something in somevector){           ## defined sequence
   do stuff, referring to each element of ##body
   somevector sequentially with the 
   placeholder something
}
</pre>
</div>
</div>
<div id="outline-container-orgef9262c" class="outline-3">
<h3 id="orgef9262c"><span class="section-number-3">7.3</span> for loops, example</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">6</span>:<span style="color: #a45bad;">10</span>
<span style="color: #4f97d7; font-weight: bold;">for</span> (i <span style="color: #4f97d7; font-weight: bold;">in</span> x) {
  print(i)
}
</pre>
</div>

<pre class="example">
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10

</pre>
</div>
</div>

<div id="outline-container-org3676067" class="outline-3">
<h3 id="org3676067"><span class="section-number-3">7.4</span> for loops, example 2</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: #a45bad;">&lt;-</span> <span style="color: #a45bad;">6</span>:<span style="color: #a45bad;">10</span>
y <span style="color: #a45bad;">&lt;-</span> vector(length = length(x))
<span style="color: #4f97d7; font-weight: bold;">for</span> (i <span style="color: #4f97d7; font-weight: bold;">in</span> seq_along(x)) {
  <span style="color: #4f97d7; font-weight: bold;">if</span> (i &gt; <span style="color: #a45bad;">1</span>){
    y[i] <span style="color: #a45bad;">&lt;-</span> x[i] + y[i - <span style="color: #a45bad;">1</span>]
  } <span style="color: #4f97d7; font-weight: bold;">else</span> {
    y[i] <span style="color: #a45bad;">&lt;-</span> x[i]
  }
}
<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">what is y?</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org00d4615" class="outline-3">
<h3 id="org00d4615"><span class="section-number-3">7.5</span> for loops, example 2 answer</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-R">y
</pre>
</div>

<pre class="example">
[1]  6 13 21 30 40

</pre>
</div>
</div>

<div id="outline-container-org793f625" class="outline-3">
<h3 id="org793f625"><span class="section-number-3">7.6</span> for loops, example 3</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-R">means <span style="color: #a45bad;">&lt;-</span> vector()

<span style="color: #4f97d7; font-weight: bold;">for</span> (i <span style="color: #4f97d7; font-weight: bold;">in</span> names(mtcars)) {
  means[[i]] <span style="color: #a45bad;">&lt;-</span> mean(mtcars[[i]])
}

<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">What will means be?</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e5c7b9" class="outline-3">
<h3 id="org7e5c7b9"><span class="section-number-3">7.7</span> for loops, example 3 answer</h3>
<div class="outline-text-3" id="text-7-7">
<div class="org-src-container">
<pre class="src src-R">means
</pre>
</div>

<pre class="example">
      mpg        cyl       disp         hp       drat         wt       qsec 
20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
       vs         am       gear       carb 
 0.437500   0.406250   3.687500   2.812500

</pre>
</div>
</div>

<div id="outline-container-org5447109" class="outline-3">
<h3 id="org5447109"><span class="section-number-3">7.8</span> for loop quiz</h3>
<div class="outline-text-3" id="text-7-8">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">what does this code do?</span>
x <span style="color: #a45bad;">&lt;-</span> list.files(pattern = <span style="color: #2d9574;">"*.csv"</span>)
data <span style="color: #a45bad;">&lt;-</span> vector(<span style="color: #2d9574;">"list"</span>, length = length(x))
<span style="color: #4f97d7; font-weight: bold;">for</span> (i <span style="color: #4f97d7; font-weight: bold;">in</span> x) {
  data[[i]] <span style="color: #a45bad;">&lt;-</span> read.csv(i)
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org3d02405" class="outline-3">
<h3 id="org3d02405"><span class="section-number-3">7.9</span> notes on looping</h3>
<div class="outline-text-3" id="text-7-9">
<ul class="org-ul">
<li>You may see a lot of advice online against loops</li>
<li>They used to be slow in R, not the case anymore</li>
<li>So long as you're smart (pre-allocate output length!)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4622071" class="outline-2">
<h2 id="org4622071"><span class="section-number-2">8</span> The apply Family</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org90361cf" class="outline-3">
<h3 id="org90361cf"><span class="section-number-3">8.1</span> the apply family</h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>The apply family of functions make our life easier by applying functions over "stuff"</li>
<li>Like a pre-built loop</li>
<li>apply, lapply, sapply, vapply, mapply, rapply, tapply</li>
<li>We'll look at apply and lapply</li>
</ul>
</div>
</div>
<div id="outline-container-orgbecc179" class="outline-3">
<h3 id="orgbecc179"><span class="section-number-3">8.2</span> apply</h3>
<div class="outline-text-3" id="text-8-2">
<pre class="example">
apply(X, MARGIN, FUN)
</pre>
</div>
</div>
<div id="outline-container-org3d3696f" class="outline-3">
<h3 id="org3d3696f"><span class="section-number-3">8.3</span> apply example</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-R">apply(mtcars, <span style="color: #a45bad;">2</span>, mean)
</pre>
</div>

<pre class="example">
      mpg        cyl       disp         hp       drat         wt       qsec 
20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
       vs         am       gear       carb 
 0.437500   0.406250   3.687500   2.812500

</pre>
</div>
</div>

<div id="outline-container-orgda3aa17" class="outline-3">
<h3 id="orgda3aa17"><span class="section-number-3">8.4</span> apply your own functions</h3>
<div class="outline-text-3" id="text-8-4">
<p>
Note that we can apply our own functions!
</p>
<div class="org-src-container">
<pre class="src src-R">apply(mtcars, <span style="color: #a45bad;">2</span>, my_mean, na.rm = <span style="color: #ce537a; font-weight: bold;">TRUE</span>)
</pre>
</div>

<pre class="example">
      mpg        cyl       disp         hp       drat         wt       qsec 
20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
       vs         am       gear       carb 
 0.437500   0.406250   3.687500   2.812500

</pre>
</div>
</div>

<div id="outline-container-org53024d5" class="outline-3">
<h3 id="org53024d5"><span class="section-number-3">8.5</span> lapply</h3>
<div class="outline-text-3" id="text-8-5">
<pre class="example">
lapply(X, FUN) # always returns a list
</pre>
</div>
</div>
<div id="outline-container-org81605b3" class="outline-3">
<h3 id="org81605b3"><span class="section-number-3">8.6</span> lapply example</h3>
<div class="outline-text-3" id="text-8-6">
<div class="org-src-container">
<pre class="src src-R">lapply(mtcars, mean)
</pre>
</div>

<pre class="example">
$mpg
[1] 20.09062

$cyl
[1] 6.1875

$disp
[1] 230.7219

$hp
[1] 146.6875

$drat
[1] 3.596563

$wt
[1] 3.21725

$qsec
[1] 17.84875

$vs
[1] 0.4375

$am
[1] 0.40625

$gear
[1] 3.6875

$carb
[1] 2.8125
</pre>
</div>
</div>

<div id="outline-container-orgc92efb1" class="outline-3">
<h3 id="orgc92efb1"><span class="section-number-3">8.7</span> sapply</h3>
<div class="outline-text-3" id="text-8-7">
<ul class="org-ul">
<li><code>lapply</code> always returns a list</li>
<li><code>sapply</code> will simplify this (e.g. to a numeric vector) if it can</li>
</ul>
<div class="org-src-container">
<pre class="src src-R">sapply(mtcars, mean)
</pre>
</div>

<pre class="example">
      mpg        cyl       disp         hp       drat         wt       qsec 
20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
       vs         am       gear       carb 
 0.437500   0.406250   3.687500   2.812500

</pre>
</div>
</div>
</div>

<div id="outline-container-orgab94a51" class="outline-2">
<h2 id="orgab94a51"><span class="section-number-2">9</span> Putting it all together</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orga66a7f1" class="outline-3">
<h3 id="orga66a7f1"><span class="section-number-3">9.1</span> function</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Create a function to represent this
</p>

<p>
\[
f(x) =  \left\{ \begin{array}{lr}
0           & \text{for } x < 0     \\
\frac{1}{3} & \text{for } 0 \leq x < 1 \\
\frac{2}{3} & \text{for } 1 \leq x < 2 \\
0           & \text{for } 2 < x     
\end{array} \right.
\]
</p>
</div>
</div>

<div id="outline-container-org182703a" class="outline-3">
<h3 id="org182703a"><span class="section-number-3">9.2</span> function, answer</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #bc6ec5; font-weight: bold;">myfun</span> <span style="color: #a45bad;">&lt;-</span> <span style="color: #4f97d7; font-weight: bold;">function</span>(x){
  ifelse(x &gt;= <span style="color: #a45bad;">0</span> &amp; x &lt; <span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">1</span> / <span style="color: #a45bad;">3</span>,
         ifelse(x &gt;= <span style="color: #a45bad;">1</span> &amp; x &lt; <span style="color: #a45bad;">2</span>, <span style="color: #a45bad;">2</span> / <span style="color: #a45bad;">3</span>, <span style="color: #a45bad;">0</span>))
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0496d6" class="outline-3">
<h3 id="orga0496d6"><span class="section-number-3">9.3</span> rejection sampler</h3>
<div class="outline-text-3" id="text-9-3">
<p>
using the function from the last slide, construct a function that will return a vector of samples using rejection sampling. Make it take one argument \(n\) the number of samples.
</p>
</div>
</div>
<div id="outline-container-orgbc214c3" class="outline-3">
<h3 id="orgbc214c3"><span class="section-number-3">9.4</span> rejection sampler, answer</h3>
<div class="outline-text-3" id="text-9-4">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #bc6ec5; font-weight: bold;">myreject</span> <span style="color: #a45bad;">&lt;-</span> <span style="color: #4f97d7; font-weight: bold;">function</span>(n){
  x <span style="color: #a45bad;">&lt;-</span> runif(n, <span style="color: #a45bad;">0</span>, <span style="color: #a45bad;">2</span>)
  y <span style="color: #a45bad;">&lt;-</span> runif(n, <span style="color: #a45bad;">0</span>, <span style="color: #a45bad;">2</span> / <span style="color: #a45bad;">3</span>)
  reject <span style="color: #a45bad;">&lt;-</span> y &gt; myfun(x)
  x[!reject]
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org284ce4e" class="outline-3">
<h3 id="org284ce4e"><span class="section-number-3">9.5</span> rejection sampling with multiple n's</h3>
<div class="outline-text-3" id="text-9-5">
<ul class="org-ul">
<li>We want to test the effect of varying n on our rejection sampler.</li>
<li>Calculate the mean of the samples from our rejection sampler varying n from 1 to 1,000</li>
</ul>
</div>
</div>
<div id="outline-container-orgfb7c3c4" class="outline-3">
<h3 id="orgfb7c3c4"><span class="section-number-3">9.6</span> rejection sampling with multiple n, answers</h3>
<div class="outline-text-3" id="text-9-6">
<div class="org-src-container">
<pre class="src src-R">ns <span style="color: #a45bad;">&lt;-</span> seq(<span style="color: #a45bad;">1</span>, <span style="color: #a45bad;">1000</span>)
means <span style="color: #a45bad;">&lt;-</span> sapply(ns, <span style="color: #4f97d7; font-weight: bold;">function</span>(n){mean(myreject(n))})
<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">plot(means)</span>
<span style="color: #2aa1ae; background-color: #292e34;">## </span><span style="color: #2aa1ae; background-color: #292e34;">summary(means)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: October 2017</p>
<p class="author">Author: J. Alexander Branham</p>
<p class="date">Created: 2017-10-20 Fri 14:20</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
